digraph S4U_Timeline {
    rankdir=LR;
    node [shape=box, style=rounded, fontname="Arial"];

    User [shape=ellipse, label=<User<BR/>Alice>, style=filled, fillcolor=lightblue];
    Frontend [shape=box, label=<Front-end Service<BR/>Web App>, style=filled, fillcolor=lightgreen];
    Backend [shape=box, label=<Back-end Service<BR/>Database>, style=filled, fillcolor=lightyellow];
    KDC [shape=ellipse, label=<Domain Controller<BR/>KDC>, style=filled, fillcolor=lightpink];

    User -> Frontend [label="Step 0: Optional login/creds"];
    Frontend -> KDC [label="Step 1: S4U2Self request"];
    KDC -> Frontend [label="Step 2: Ticket for User"];
    Frontend -> KDC [label="Step 3: S4U2Proxy request"];
    KDC -> Frontend [label="Step 4: Ticket for Backend"];
    Frontend -> Backend [label="Step 5: Access Backend as User"];

    { rank=same; User; Frontend; Backend; KDC; }

    edge [fontsize=10, color=black];
}
